module.exports=[38531,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(10918),f=a.i(210),g=a.i(41675),h=a.i(90166),i=a.i(41710),j=a.i(46842),k=a.i(41961),l=a.i(63588),m=a.i(16201),n=a.i(93518),o=a.i(21374),p=a.i(60246),q=a.i(70106);let r=(0,q.default)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),s=(0,q.default)("bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);var t=a.i(22749),u=a.i(38246),v=a.i(6704);function w(){let a=(0,d.useParams)(),q=(0,d.useRouter)(),{user:w,isAuthenticated:x,loading:y}=(0,e.useAuth)(),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)([]),[D,E]=(0,c.useState)(!0),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)({price:"",message:""}),[J,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)("details"),N=a.id;(0,c.useEffect)(()=>{y||x?x&&O():q.push("/login")},[x,y,q,N]);let O=async()=>{try{E(!0);let[a,b]=await Promise.all([t.gigAPI.getGig(N),t.bidAPI.getBidsByGig(N)]);A(a.data.data),C(b.data.data||[])}catch(a){v.default.error("Failed to load gig details"),console.error("Error fetching gig details:",a),q.push("/gigs")}finally{E(!1)}},P=async a=>{if(a.preventDefault(),!w)return void v.default.error("Please login to submit a bid");K(!0);try{await t.bidAPI.createBid({gigId:N,price:Number(H.price),message:H.message}),v.default.success("Bid submitted successfully!"),G(!1),I({price:"",message:""}),O()}catch(a){v.default.error(a.response?.data?.error||"Failed to submit bid")}finally{K(!1)}},Q=async a=>{if(confirm("Are you sure you want to hire this freelancer?"))try{await t.bidAPI.hireFreelancer(a),v.default.success("Freelancer hired successfully!"),O()}catch(a){v.default.error(a.response?.data?.error||"Failed to hire freelancer")}},R=a=>new Date(a).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),S=z?.ownerId._id===w?._id,T=B.some(a=>a.freelancerId._id===w?._id);return D?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):z?(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white py-12",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,b.jsx)("div",{className:"mb-8",children:(0,b.jsxs)("button",{onClick:()=>q.back(),className:"inline-flex items-center text-gray-600 hover:text-primary-600 transition-colors group",children:[(0,b.jsx)(f.ArrowLeft,{className:"w-5 h-5 mr-2 group-hover:-translate-x-1 transition-transform"}),"Back to Gigs"]})}),(0,b.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,b.jsxs)("div",{className:"lg:col-span-2",children:[(0,b.jsxs)("div",{className:"glass-card rounded-2xl p-8 mb-8",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-6 mb-6",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("span",{className:`badge ${"open"===z.status?"badge-success":"badge-info"} text-sm px-3 py-1.5`,children:"open"===z.status?"Open for Bids":"Assigned"}),(0,b.jsxs)("span",{className:"text-sm text-gray-500 flex items-center",children:[(0,b.jsx)(g.Calendar,{className:"w-4 h-4 mr-1"}),"Posted ",R(z.createdAt)]})]}),(0,b.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:z.title}),(0,b.jsxs)("div",{className:"inline-flex items-center px-4 py-3 rounded-xl bg-gradient-to-r from-primary-50 to-accent-50 border border-primary-200",children:[(0,b.jsx)(h.DollarSign,{className:"w-6 h-6 text-primary-600 mr-3"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-gray-600",children:"Project Budget"}),(0,b.jsxs)("div",{className:"text-2xl font-bold gradient-text",children:["$",z.budget.toLocaleString()]})]})]})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,b.jsx)("button",{className:"p-3 rounded-lg border-2 border-gray-200 hover:border-gray-300 bg-white hover:bg-gray-50 transition-colors",children:(0,b.jsx)(s,{className:"w-5 h-5 text-gray-600"})}),(0,b.jsx)("button",{className:"p-3 rounded-lg border-2 border-gray-200 hover:border-gray-300 bg-white hover:bg-gray-50 transition-colors",children:(0,b.jsx)(r,{className:"w-5 h-5 text-gray-600"})})]})]}),(0,b.jsxs)("div",{className:"flex items-center p-4 rounded-xl bg-gradient-to-r from-gray-50 to-white border border-gray-200",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-primary-500 to-accent-600 flex items-center justify-center mr-4",children:(0,b.jsx)(j.User,{className:"w-6 h-6 text-white"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("h3",{className:"font-semibold text-gray-900",children:["Posted by ",z.ownerId.name]}),(0,b.jsx)("p",{className:"text-gray-600 text-sm",children:z.ownerId.email})]}),(0,b.jsx)("div",{className:"text-right",children:(0,b.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,b.jsx)(o.Star,{className:"w-4 h-4 text-yellow-500 mr-1"}),(0,b.jsx)("span",{className:"font-medium",children:"4.9"}),(0,b.jsx)("span",{className:"mx-1",children:"â€¢"}),(0,b.jsx)("span",{children:"24 Projects"})]})})]})]}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("div",{className:"flex space-x-1 border-b border-gray-200",children:[(0,b.jsxs)("button",{onClick:()=>M("details"),className:`px-6 py-3 font-medium text-lg rounded-t-lg transition-colors ${"details"===L?"text-primary-600 border-b-2 border-primary-500 bg-primary-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[(0,b.jsx)(k.Briefcase,{className:"w-5 h-5 inline mr-2"}),"Details"]}),(0,b.jsxs)("button",{onClick:()=>M("bids"),className:`px-6 py-3 font-medium text-lg rounded-t-lg transition-colors ${"bids"===L?"text-primary-600 border-b-2 border-primary-500 bg-primary-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[(0,b.jsx)(p.Users,{className:"w-5 h-5 inline mr-2"}),"Bids (",B.length,")"]})]}),(0,b.jsx)("div",{className:"glass-card rounded-b-2xl rounded-tr-2xl p-8",children:"details"===L?(0,b.jsxs)("div",{className:"prose max-w-none",children:[(0,b.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Project Description"}),(0,b.jsx)("div",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:z.description}),(0,b.jsxs)("div",{className:"mt-10 p-6 rounded-xl bg-gradient-to-r from-blue-50 to-cyan-50 border border-blue-200",children:[(0,b.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,b.jsx)(m.CheckCircle,{className:"w-5 h-5 text-blue-600 mr-2"}),"Requirements"]}),(0,b.jsxs)("ul",{className:"space-y-3",children:[(0,b.jsxs)("li",{className:"flex items-start",children:[(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500 mt-2 mr-3 flex-shrink-0"}),(0,b.jsx)("span",{className:"text-gray-700",children:"Strong experience with similar projects"})]}),(0,b.jsxs)("li",{className:"flex items-start",children:[(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500 mt-2 mr-3 flex-shrink-0"}),(0,b.jsx)("span",{className:"text-gray-700",children:"Good communication skills"})]}),(0,b.jsxs)("li",{className:"flex items-start",children:[(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500 mt-2 mr-3 flex-shrink-0"}),(0,b.jsx)("span",{className:"text-gray-700",children:"Ability to meet deadlines"})]}),(0,b.jsxs)("li",{className:"flex items-start",children:[(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500 mt-2 mr-3 flex-shrink-0"}),(0,b.jsx)("span",{className:"text-gray-700",children:"Portfolio of relevant work"})]})]})]})]}):(0,b.jsx)("div",{children:S?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:["Bids Received (",B.length,")"]}),0===B.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(l.MessageSquare,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600",children:"No bids received yet"})]}):(0,b.jsx)("div",{className:"space-y-6",children:B.map(a=>(0,b.jsxs)("div",{className:`p-6 rounded-xl border-2 ${"hired"===a.status?"border-green-500 bg-green-50":"rejected"===a.status?"border-gray-300 bg-gray-50":"border-gray-200 hover:border-primary-300 bg-white"} transition-all duration-300`,children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-primary-500 to-accent-600 flex items-center justify-center",children:(0,b.jsx)(j.User,{className:"w-6 h-6 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-bold text-gray-900",children:a.freelancerId.name}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:a.freelancerId.email})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("div",{className:"text-2xl font-bold gradient-text",children:["$",a.price.toLocaleString()]}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:"Bid Amount"})]}),(0,b.jsx)("span",{className:`badge ${"hired"===a.status?"badge-success":"rejected"===a.status?"badge-error":"badge-warning"}`,children:a.status.charAt(0).toUpperCase()+a.status.slice(1)})]})]}),(0,b.jsx)("p",{className:"text-gray-700 mb-4 p-4 bg-gray-50 rounded-lg",children:a.message}),(0,b.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[(0,b.jsxs)("div",{className:"text-sm text-gray-500",children:[(0,b.jsx)(i.Clock,{className:"w-4 h-4 inline mr-1"}),new Date(a.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})]}),"pending"===a.status&&(0,b.jsx)("button",{onClick:()=>Q(a._id),className:"btn-primary",children:"Hire Freelancer"})]})]},a._id))})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:T?"Your Bid":"Submit Your Bid"}),T?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(n.Award,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),(0,b.jsx)("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:"Bid Submitted!"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:"Your bid has been submitted successfully. The client will review all bids and get back to you."}),(0,b.jsx)(u.default,{href:"/my-bids",className:"btn-primary",children:"View My Bids"})]}):"open"===z.status?F?(0,b.jsxs)("form",{onSubmit:P,className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Bid Amount ($)"}),(0,b.jsx)("input",{type:"number",value:H.price,onChange:a=>I({...H,price:a.target.value}),className:"input-field",placeholder:"Enter your bid amount",required:!0,min:"1",max:z.budget}),(0,b.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Project budget: $",z.budget.toLocaleString()]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Proposal"}),(0,b.jsx)("textarea",{value:H.message,onChange:a=>I({...H,message:a.target.value}),className:"input-field min-h-[200px]",placeholder:"Describe why you're the best fit for this project. Include your relevant experience, approach, and timeline.",required:!0,rows:6})]}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("button",{type:"submit",disabled:J,className:"btn-primary flex-1",children:J?"Submitting...":"Submit Bid"}),(0,b.jsx)("button",{type:"button",onClick:()=>G(!1),className:"btn-secondary",children:"Cancel"})]})]}):(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(l.MessageSquare,{className:"w-16 h-16 text-primary-500 mx-auto mb-4"}),(0,b.jsx)("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:"Ready to bid on this project?"}),(0,b.jsx)("p",{className:"text-gray-600 mb-8 max-w-2xl mx-auto",children:"Submit a detailed proposal explaining why you're the best fit for this gig. Include your experience, approach, and estimated timeline."}),(0,b.jsx)("button",{onClick:()=>G(!0),className:"btn-primary",children:"Submit Your Bid"})]}):(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(k.Briefcase,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,b.jsx)("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:"This gig has been assigned"}),(0,b.jsx)("p",{className:"text-gray-600 mb-8",children:"This project is no longer accepting bids as a freelancer has been hired."}),(0,b.jsx)(u.default,{href:"/gigs",className:"btn-primary",children:"Browse Other Gigs"})]})]})})})]})]}),(0,b.jsxs)("div",{children:[!S&&"open"===z.status&&!T&&(0,b.jsxs)("div",{className:"glass-card rounded-2xl p-6 mb-8 bg-gradient-to-br from-primary-50 to-accent-50 border border-primary-200",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Ready to Work?"}),(0,b.jsx)("p",{className:"text-gray-700 mb-6",children:"Submit your bid to get started on this exciting project."}),(0,b.jsx)("button",{onClick:()=>G(!0),className:"w-full btn-primary",children:"Submit Your Bid"}),(0,b.jsx)("div",{className:"mt-6 pt-6 border-t border-primary-200",children:(0,b.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,b.jsx)(i.Clock,{className:"w-4 h-4 mr-2"}),(0,b.jsx)("span",{children:"Avg. response time: 24 hours"})]})})]}),(0,b.jsxs)("div",{className:"glass-card rounded-2xl p-6 mb-8",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Project Information"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Status"}),(0,b.jsx)("span",{className:`badge ${"open"===z.status?"badge-success":"badge-info"}`,children:"open"===z.status?"Open":"Assigned"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Budget"}),(0,b.jsxs)("span",{className:"font-bold gradient-text",children:["$",z.budget.toLocaleString()]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Posted"}),(0,b.jsx)("span",{className:"font-medium",children:R(z.createdAt)})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Bids Received"}),(0,b.jsx)("span",{className:"font-medium",children:B.length})]})]})]})]})]})]})}):(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(k.Briefcase,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Gig not found"}),(0,b.jsx)("p",{className:"text-gray-600 mb-8",children:"The gig you're looking for doesn't exist or has been removed."}),(0,b.jsx)(u.default,{href:"/gigs",className:"btn-primary",children:"Browse Gigs"})]})})}a.s(["default",()=>w],38531)}];

//# sourceMappingURL=app_gigs_%5Bid%5D_page_tsx_fd2634f0._.js.map